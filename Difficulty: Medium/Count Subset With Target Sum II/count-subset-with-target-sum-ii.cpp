class Solution { public: int countSubset(vector<int> &arr, int k) { int n = arr.size(); int n1 = n / 2; int n2 = n - n1; vector<long long> v1, v2; for (int i = 0; i < (1 << n1); i++) { long long s = 0; for (int j = 0; j < n1; j++) { if ((i >> j) & 1) s += arr[j]; } v1.push_back(s); } for (int i = 0; i < (1 << n2); i++) { long long s = 0; for (int j = 0; j < n2; j++) { if ((i >> j) & 1) s += arr[n1 + j]; } v2.push_back(s); } sort(v2.begin(), v2.end()); int count = 0; for (long long val : v1) { long long target = (long long)k - val; auto range = equal_range(v2.begin(), v2.end(), target); count += (range.second - range.first); } return count; } };